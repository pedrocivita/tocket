# Progress Log

<!-- Appended by tocket sync and manual updates -->

## Milestone: v1.0.0 — Base CLI

**Status**: Complete

- [x] CLI entry point with Commander.js
- [x] `tocket init` — scaffolds `.context/`, `CLAUDE.md`, `GEMINI.md`
- [x] `tocket generate` — interactive payload XML builder (v3.0), copies to clipboard
- [x] `tocket sync` — appends session summary + git log to `progress.md`
- [x] Published to npm as `@pedrocivita/tocket`

## Milestone: Open Source Setup

**Status**: Complete

- [x] GitHub Actions CI (Node 20, build-only)
- [x] CONTRIBUTING.md
- [x] CODE_OF_CONDUCT.md (Contributor Covenant v2.1)
- [x] PR template
- [x] README badges and contributing section

## Milestone: Memory Bank Initialization

**Status**: Complete

- [x] `.context/` directory with all 5 files
- [x] Project-level `CLAUDE.md` (Executor rules)
- [x] Project-level `GEMINI.md` (Architect rules)

## Milestone: TOCKET.md Protocol Specification

**Status**: Complete

- [x] Created `TOCKET.md` at repo root (agent-agnostic protocol manifesto)
- [x] Added `tocketMd` template function to `src/templates/memory-bank.ts`
- [x] Updated `tocket init` to scaffold `TOCKET.md` as first file in sequence
- [x] Build verified — `tsc` compiles cleanly

## Milestone: Documentation & Positioning

**Status**: Complete

- [x] README rewritten — value proposition, comparison table, "protocol > CLI" messaging
- [x] `docs/GETTING_STARTED.md` — 5-minute setup (CLI and manual paths)
- [x] `docs/TOCKET_RULES.md` — Complete protocol reference (Memory Bank, Triangulation, Payloads)
- [x] `docs/DEVELOPERS_GUIDE.md` — Contributing to the CLI codebase
- [x] Protocol evaluation with honest assessment of strengths and gaps

## Milestone: CLI Refinement — Full Scaffold, v2.0 Payloads, Validate

**Status**: Complete

- [x] `tocket init` now scaffolds all 5 `.context/` files (added productContext, techContext, progress templates)
- [x] `tocket generate` refactored to payload v2.0 (removed complexity/model prompts)
- [x] `tocket validate` command implemented — checks required/optional files, agent configs, staleness
- [x] All 4 commands registered: init, generate, sync, validate
- [x] Build clean, validate tested on healthy and empty workspaces
- [x] Updated `geminiMd` template to reference `<payload version="2.0">` format instead of `<mission-brief>`

## Milestone: v1.1.0 — Tests & Release

**Status**: Complete

- [x] Test suite with `node:test` — 29 tests across 8 suites, all templates covered
- [x] `npm test` script wired (`build && node --test dist/tests/*.test.js`)
- [x] Version bumped to 1.1.0 (package.json + index.ts)
- [x] `geminiMd` template updated to `<payload version="2.0">` (mission-brief removed)
- [ ] `npm publish` — ready for Pedro to execute with npm auth

## Milestone: v1.2.0 — Smart Init & .cursorrules

**Status**: Complete

- [x] `tocket init` auto-detects stack from `package.json` + `tsconfig.json`
- [x] Heuristics for language, runtime, build tool, framework, notable deps
- [x] `techContextMd` template accepts optional `StackInfo` for pre-populated stack table
- [x] Project name and description pre-filled from `package.json` (user can override)
- [x] `.cursorrules` file generated by init (Cursor IDE compatibility)
- [x] `cursorrulesMd` template added to memory-bank.ts
- [x] Test suite expanded: 38 tests across 9 suites (was 29/8)
- [ ] `npm publish` — ready for Pedro to execute with npm auth

## Milestone: v2.0.0 — Premium UX Overhaul

**Status**: Complete

- [x] Purple terminal theme (`chalk`, static ASCII banner)
- [x] Interactive dashboard (`tocket` no-args)
- [x] `tocket config` command (TUI + flags)
- [x] Smart generate (auto-scope from git, multi-task loop, preview)
- [x] Global config persistence (`~/.tocketrc.json`)
- [x] 29 new tests for theme, git, and config utilities (67 total)

## Milestone: v2.1.0 — Focus & Eject Commands

**Status**: Complete

- [x] `tocket focus <message>` — update Current Focus in activeContext.md
- [x] `tocket eject` — remove all Tocket-generated files (with --force flag)
- [x] Dashboard integration (Update Focus + Eject Workspace menu items)
- [x] Tests for focus (regex replacement, file round-trip, edge cases)
- [x] Tests for eject (removal, missing files, partial workspace)
- [x] Version bumped to 2.1.0
- [x] README updated with new commands

## Milestone: v2.2.0 — Less Invasive, More Useful

**Status**: Complete

- [x] Add `--minimal`, `--name`, `--description` flags to `init` command
- [x] Add `--summary` flag to `sync` command
- [x] Add `--to` stdout/file flag to `generate` command
- [x] Create `tocket lint` and `tocket doctor` commands for context auditing
- [x] Investigate `tocket generate` automatically reading the last commit for context
- [x] Massive test suite expansion (from 84 to 135 tests)

## Next Up

- [ ] Investigate programmatic agent error handoffs via CLI
- [x] Add global default templates for initialization
- [ ] Document global templates feature in README
- [ ] Explore custom LLM generation via Tocket plugins

## Session: 2026-02-25

**Summary**:
Claude successfully completed Part A (reducing invasiveness via flags like `--minimal`) and Part B (adding `tocket lint` and `tocket doctor`). The test suite was dramatically expanded to 135 tests. The README and docs have been updated to pivot the messaging strongly towards "Context and Harness Engineering" rather than just a CLI tool.

**Recent Commits**:

```
bd71c4c feat: release v2.2.0 - Less Invasive, More Useful (lint, doctor, minimal)
4a83d1c docs: Tocket OSS Documentation Pivot (Context Engineering)
f751c4b feat: release v2.0.0 - Premium UX with theme, dashboard, config, and smart generate
d3438fd feat: add --force flag, dynamic version, CI tests, and resolve session debt
875128d feat: release v1.2.0 - Smart Init & Cursorrules Support
```

---

## Session: 2026-02-25 (Pedro Civita)

**Summary**: Implemented global templates for init command. Support ~/.tocket/templates overrides.

**Recent Commits**:

```
f7da438 feat: add GitHub issue templates for bug reports and feature requests
85b90dc docs: add tocket.ai links, update docs for open-source readiness
6899f10 refactor: extract shared utils, resolve session debt (v2.2.2)
9a056f6 feat: gitignore check on init + test coverage with c8
b6d1ded feat: release v2.2.0 - doctor, lint, minimal init, CI-friendly flags
```

---
